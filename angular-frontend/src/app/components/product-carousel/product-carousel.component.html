<section class="carousel-section">
  <h2 class="carousel-title">Flores en Oferta</h2>
  
  <div *ngIf="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <p>Cargando flores destacadas...</p>
  </div>

  <div *ngIf="error" class="error-container">
    <p>{{ error }}</p>
  </div>

  <div *ngIf="!loading && !error && products.length > 0" class="carousel-container">
    <swiper-container
      init="true"
      slides-per-view="1"
      space-between="10"
      navigation="true"
      pagination="true"
      autoplay="true"
      class="flower-swiper">
      
      <swiper-slide *ngFor="let producto of products" class="flower-slide">
        <div class="flower-card">
          <div class="flower-img-container">
            <img [src]="producto.imagen || 'assets/images/placeholder.jpg'" [alt]="producto.nombre" class="flower-image">
            <div *ngIf="producto.rebaja" class="discount-badge">Oferta</div>
          </div>
          <div class="flower-details">
            <h3 class="flower-name">{{ producto.nombre }}</h3>
            <p class="flower-price">{{ formatPrice(producto.precio) }}</p>
            <a [routerLink]="['/product', producto._id]" class="view-details-btn">Ver detalles</a>
          </div>
        </div>
      </swiper-slide>
      
    </swiper-container>
  </div>
  
  <div *ngIf="!loading && !error && products.length === 0" class="no-products">
    <p>No hay flores en oferta en este momento.</p>
  </div>
</section>